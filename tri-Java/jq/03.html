<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Laboratório de jQuery 2</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    

    <script>
        function oc(obj, palavra) {
            return obj.filter((v) => (v === palavra)).length;
        }

        $(function(){

            $("#l").click(function () {
                $("#tab").empty();
                $("#f").val("");
            })

            $("#array").click(function(){
                $("#tab").empty();
                let f = $("#f").val();
                var pl = f.split(" ").map(function(p){
                    return p.toLocaleLowerCase();
                });
                var i = 0;
                var a = [];
                var tt = [];
                var x = 0;
                for (p of pl){
                    if(tt.indexOf(p)== -1){
                        let o=(oc(pl,p));
                        tt.push(p);
                        a[x]=o;
                    }
                    else
                        x--;

                    i++;
                    x++;
                }
                for (i=0; i<tt.length; i++) {
                    let tr=$("<tr>");
                    $("#tab").append(tr);
                    let td=$("<td>");
                    let td2=$("<td>");
                    td.text(tt[i]);
                    td2.text(a[i]);
                    tr.append(td);
                    tr.append(td2);
                };
            });
        });
    </script>
</head>

<body>
    <h4>Faça um programa que leia um texto e separe todas as palavras em um array, indicado para cada uma delas o número
        de vezes que aparece no texto. Imprima o array em uma tabela contendo a palavra e número de ocorrências.</h4>
    <input type="text" id="f">
    <button id="array">Enviar</button>
    <p></p>
    <table id="tab"></table>
    <button id="l">Limpar</button>
</body>

</html>